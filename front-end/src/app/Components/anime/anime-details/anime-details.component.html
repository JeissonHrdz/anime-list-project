<section class="flex w-full flex-col absolute top-0 z-0">
  <div class="relative w-full md:h-auto sm:h-20 overflow-hidden">
    <!-- Div para la imagen de fondo con opacidad -->
    <div class="absolute inset-0  bg-cover z-0 bg-no-repeat bg-center" [style.background-image]="'linear-gradient(to bottom, rgba(38, 38, 38, 1) 0px, rgba(38, 38, 38, 0.3) 50%), 
              url(' + animeData?.bannerImage + ')'">
    </div>
    <div class="absolute inset-0 bg-neutral-800 opacity-70 z-1"></div>
    <!-- Contenido del grid -->
    <div
      class="md:grid sm:block p-7 gap-2 relative z-10 mt-15 md:grid-cols-[320px_auto_0px_0px] sm:grid-cols-[320px_0px_0px_0px]">
      <!-- Columna 1: Imagen -->
      <div class="md:h-[367px] md:w-[270px] sm:h-[100px] sm:w-[153px] sm:m-auto sm:ml-0 sm:mr-0   col-span-1 align-middle md:ml-10
       flex justify-center items-center ">
        <img class=" md:h-[360px] sm:w-[253px] w-[220px]  shadow-2xl rounded-md" src="{{animeData?.coverImage?.extraLarge}}"
          alt="">
      </div>

      <!-- Columna 2: Texto -->
      <div class="col-span-3 text-[14px] text-white ">
        <div class="flex flex-col items-center sm:items-baseline">
          <p class="text-3xl mt-2 sm:mt-0 font-semibold m-2  tracking-tight text-center sm:text-left">
            {{animeData?.title?.romaji}}</p>
          <p class="text-xl text-neutral-400 mt-2 sm:mt-0 font-semibold m-2  tracking-tight text-center sm:text-left">
            {{animeData?.title?.native}}, {{animeData?.title?.english}}</p>
          <div class="block">
            <p class="h-[100px] overflow-hidden" [class.h-auto]="expandDescription"
              [innerHTML]="animeData?.description?.replace( '<br><br>', '<br>') ">
            </p><button (click)="expandDescriptionToggle() " class="text-sm cursor-pointer w-full text-purple-500"> +
              Show more</button>
          </div>

          <div class="flex flex-row items-center mt-2 sm:w-[500px] w-[350px] sm:text-[14px] text-[14px]  sm:items-baseline tracking-wider ">
            <div class="w-full flex flex-col *:font-bold  ">
              <p><span class="font-normal "> Realsed: </span>
                {{animeData?.startDate?.day}}/{{animeData?.startDate?.month}}/{{animeData?.startDate?.year}}</p>
              <p> <span class="font-normal">Season: </span> {{animeData?.season}}</p>
              <p> <span class="font-normal">Score: </span> {{animeData?.averageScore}}%</p>
              <p> <span class="font-normal">Status: </span> {{animeData?.status}}</p>
            </div>
            <div class="w-full flex flex-col *:font-bold">
              <p><span class="font-normal"> Type: </span> {{animeData?.format}}</p>
              <p><span class="font-normal"> Episodes: </span> {{animeData?.episodes}}</p>
              <p> <span class="font-normal">Duration: </span> {{animeData?.duration}} min/ep</p>
              <p> <span class="font-normal">Source: </span> {{animeData?.source?.replace("_", " ") }}</p>
            </div>
          </div>
          <br>


          <p class="mt-2 rounded-l-md text-[14px] flex flex-wrap justify-center sm:justify-start">
            @for (genres of animeData?.genres; track $index) {
            @switch (genres) {
            @case('Action') {
            <span class="bg-blue-500 w-auto p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Adventure') {
            <span class="bg-green-500 w-auto  p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Comedy') {
            <span class="bg-yellow-500 w-auto p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Drama') {
            <span class="bg-red-500 w-auto p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Fantasy') {
            <span class="bg-purple-500 w-auto p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Sci-Fi') {
            <span class="bg-pink-500 w-auto p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Mystery') {
            <span class="bg-indigo-500 w-auto p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Romance') {
            <span class="bg-orange-500 w-auto p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Horror') {
            <span class="bg-red-500 w-auto p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @case('Slice of Life') {
            <span class="bg-teal-500 w-[90px] p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            @default {
            <span class="bg-gray-500 w-aut  p-1 pl-2 pr-2 "> {{genres}}</span>
            }
            }

            }
          </p>




        </div>
      </div>
    </div>
  </div>
  <br>
  <!---- Div para la seccioÌn de personajes -->
  <div class="relative w-full">
    <app-anime-characters />
  </div>
  <div class="pt-2 pb-2 ">
    <button id="button-trailer" (click)="modalTrailer()" type="button"
      class="text-white cursor-pointer bg-purple-500 rounded-md custom-shadow p-1 pr-4 pl-4">
      Trailer</button>
  </div>

</section>


<div class="relative z-10 hidden" id="modal-trailer" (click)="modalTrailer()" aria-labelledby="modal-title"
  role="dialog" aria-modal="true">
  <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>
  <div class="fixed inset-0 z-10 w-screen p-2 overflow-y-auto">
    <div class="flex min-h-full w-full items-center justify-center  text-center sm:items-center sm:p-0">
      <div
        class="relative transform overflow-hidden h-auto w-auto rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 l ">
        <div class="bg-white  sm:p-1 sm:pb-1">
          <div class="sm:flex sm:items-start">
            <div class="w-full h-full  text-center sm:text-left">
              <iframe id="anime-trailer" class="w-100 h-60 sm:w-[750px] sm:h-[459px]"
                [src]="'https://www.youtube.com/embed/'+trailerId | safe ">
              </iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>